{"version":3,"file":"react-native-tc-conversations.esm.js","sources":["../src/constants/style.ts","../src/components/Heading.tsx","../src/components/Text.tsx","../src/utils/avatarUtils.tsx","../src/utils/stringUtils.ts","../src/components/Conversations/components/icons/IconSettings.tsx","../node_modules/regenerator-runtime/runtime.js","../src/utils/messageUtils.ts","../src/components/Conversations/hooks/requiredContext.tsx","../src/components/Conversations/hooks/TwilioConversationsProvider.tsx","../src/components/Conversations/UnreadInteractionBadge.tsx","../src/components/Conversations/ConversationList.tsx","../src/components/Conversations/components/icons/IconCamera.tsx","../src/components/Conversations/components/icons/IconInventory.tsx","../src/components/Conversations/components/CustomActions.tsx","../src/components/Conversations/components/icons/IconToBottom.tsx","../src/components/Conversations/components/NavBar.tsx","../src/components/Conversations/Conversation.tsx","../src/components/Conversations/ConversationCenter.tsx"],"sourcesContent":["import { isIphoneX } from \"react-native-iphone-x-helper\";\n\nexport const tcFontWeb = \"Radikal\";\nexport const tcFont = \"Radikal-Regular\";\nexport const tcFontBold = \"Radikal-Bold\";\nexport const tcBlue = \"#109de7\";\nexport const tcDark = \"#131213\";\nexport const tcBorderColor = \"#E5E5E5\";\nexport const tcUnreadColor = \"#EA028A\";\n\nexport const headerSpacing = {\n  paddingTop: isIphoneX() ? 44 : 20,\n};\n\nexport const shadowBox = {\n  elevation: 3.5,\n  shadowOffset: { width: 0, height: 2 },\n  shadowColor: \"#333\",\n  shadowOpacity: 0.25,\n  shadowRadius: 3.84,\n  marginHorizontal: 1,\n};\n\nexport const roundedContainer = {\n  backgroundColor: \"white\",\n  padding: 1,\n  borderWidth: 1,\n  borderColor: \"lightgray\",\n  borderRadius: 20,\n};\n\nexport const inputContainer = {\n  backgroundColor: \"white\",\n  height: 35,\n};\n\nexport const inputText = {\n  fontFamily: tcFont,\n  color: \"#000\",\n  fontSize: 16,\n};\n","import React from \"react\";\nimport { StyleSheet, Text, TextProps } from \"react-native\";\nimport { tcFont, tcFontBold } from \"../constants/style\";\n\ninterface HeadingProps extends TextProps {\n  bold?: boolean;\n  children: React.ReactNode;\n  size: Size;\n  white?: boolean;\n}\n\ntype Size = 1 | 2 | 3 | 4 | 5 | \"1\" | \"2\" | \"3\" | \"4\" | \"5\";\n\nconst Heading = ({\n  bold,\n  children,\n  size,\n  style = {},\n  white,\n  ...rest\n}: HeadingProps) => {\n  const sizeKey = sizeChart[size.toString()];\n  return (\n    <Text\n      style={[\n        {\n          color: white ? \"white\" : \"black\",\n          fontFamily: bold ? tcFontBold : tcFont,\n          ...styles[sizeKey],\n        },\n        style,\n      ]}\n      {...rest}\n    >\n      {children}\n    </Text>\n  );\n};\n\nconst sizeChart: { [key: string]: string } = {\n  \"1\": \"xs\",\n  \"2\": \"sm\",\n  \"3\": \"md\",\n  \"4\": \"lg\",\n  \"5\": \"xl\",\n};\n\nconst styles: { [key: string]: any } = StyleSheet.create({\n  xs: {\n    fontSize: 17,\n  },\n  sm: {\n    fontSize: 22,\n  },\n  md: {\n    fontSize: 25,\n  },\n  lg: {\n    fontSize: 30,\n  },\n  xl: {\n    fontSize: 40,\n  },\n});\n\nexport default Heading;\n","import React from \"react\";\nimport { Text as NativeText, TextProps } from \"react-native\";\nimport { tcFont, tcFontBold } from \"../constants/style\";\n\ninterface Props extends TextProps {\n  bold?: boolean;\n  children: React.ReactNode;\n  size?: number;\n  color?: string;\n}\n\nconst Text = ({\n  bold,\n  size = bold ? 15 : 16,\n  color = \"#000\",\n  children,\n  style = {},\n  ...rest\n}: Props) => {\n  return (\n    <NativeText\n      style={[\n        {\n          fontFamily: bold ? tcFontBold : tcFont,\n          fontSize: size,\n          color: color,\n        },\n        style,\n      ]}\n      {...rest}\n    >\n      {children}\n    </NativeText>\n  );\n};\n\nexport default Text;\n","import { ImageURISource } from \"react-native\";\n\nconst avatar0 = require(\"../assets/avatar-0.png\");\nconst avatar1 = require(\"../assets/avatar-1.png\");\nconst avatar2 = require(\"../assets/avatar-2.png\");\nconst avatar3 = require(\"../assets/avatar-3.png\");\nconst avatar4 = require(\"../assets/avatar-4.png\");\nconst avatar5 = require(\"../assets/avatar-5.png\");\n\nconst avatars: { [key: string]: ImageURISource } = {\n  \"0\": avatar0,\n  \"1\": avatar1,\n  \"2\": avatar2,\n  \"3\": avatar3,\n  \"4\": avatar4,\n  \"5\": avatar5,\n};\n\nexport const getAvatarSource = (index: number) => {\n  return avatars[String(index % 6)];\n};\n","import { format } from \"date-fns\";\n\nexport const NOT_AVAILABLE = \"N/A\";\n\n/**\n * Return a given word pluralized if value is not 1\n * Given word should be the singular form of the word\n * if the word needs more than an \"s\" to pluralize.\n * example: pluralize(pluralExpression, \"is\");\n *\n * @param value\n * @returns {string} pluralized string\n */\nexport function pluralize(value: number, word: string) {\n  const isPlural = value !== 1;\n  if (isPlural) {\n    const wordMapping = {\n      is: \"are\",\n      it: \"them\",\n      was: \"were\",\n    };\n\n    // We should really improve includes() typings to allow any string\n    if (Object.keys(wordMapping).includes(word as keyof typeof wordMapping)) {\n      // @ts-ignore for some reason this is only an error on CI?\n      return wordMapping[word];\n    } else if ([\"s\", \"z\"].includes(word.slice(-1))) {\n      return word;\n    }\n    return `${word}s`;\n  }\n  return word;\n}\n\nexport const formatDate = (date: string | undefined) => {\n  if (!date) return NOT_AVAILABLE;\n\n  const toFormatDateTime = new Date(date).getTime();\n  let formatType = \"hh:mm a\";\n\n  const dateNow = Date.now();\n  const oneDay = 60 * 60 * 24 * 1000;\n\n  if (dateNow - toFormatDateTime > oneDay * 7) {\n    formatType = \"dd MMMM yyyy\";\n  } else if (dateNow - toFormatDateTime > oneDay) {\n    formatType = \"eeee\"; // Monday\n  }\n  return format(toFormatDateTime, formatType);\n};\n\nexport function formatNumber(number: number, decimals = 0): string {\n  if (typeof number !== \"number\") {\n    return \"\";\n  } // direct copy from http://stackoverflow.com/questions/721304/insert-commas-into-number-string\n  // done to avoid pulling in entire \"numeral\" library or deal with manual loops\n\n  return number.toFixed(decimals).replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\");\n}\n\nexport function formatCurrency(number?: number | null, decimals = 0): string {\n  if (number === null || number === undefined) {\n    return \"\";\n  }\n\n  if (number < 0) {\n    return `-$${formatNumber(number * -1, decimals)}`;\n  }\n\n  return `$${formatNumber(number, decimals)}`;\n}\n\nexport const formatPhoneNumber = (numberStr: string | undefined) => {\n  if (numberStr) {\n    return numberStr.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"$1-$2-$3\");\n  }\n  return null;\n};\n\nexport const formatContactMethod = (method: string | undefined) => {\n  if (method === \"any\") {\n    return \"Any\";\n  }\n  // default to no calling\n  return \"Text and Email Only\";\n};\n\nexport const capitalizeFirstLetter = (string: string) => {\n  if (string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n  return \"\";\n};\n","import * as React from \"react\";\nimport Svg, { G, Path } from \"react-native-svg\";\n\nconst IconSettings = () => (\n  <Svg viewBox=\"0 0 24 24\">\n    <G stroke=\"black\" fill=\"none\">\n      <Path d=\"M16.9,3.5L16.9,3.5l4.9,8.5l-4.9,8.5l-9.8,0L2.2,12l4.9-8.5H16.9 M16.9,2.5H7.1C6.7,2.5,6.4,2.7,6.2,3l-4.9,8.5 c-0.2,0.3-0.2,0.7,0,1L6.2,21c0.2,0.3,0.5,0.5,0.9,0.5h9.8c0.4,0,0.7-0.2,0.9-0.5l4.9-8.5c0.2-0.3,0.2-0.7,0-1L17.8,3C17.6,2.7,17.3,2.5,16.9,2.5L16.9,2.5z\" />\n      <Path d=\"M12,8c2.2,0,4,1.8,4,4s-1.8,4-4,4s-4-1.8-4-4S9.8,8,12,8 M12,7c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S14.8,7,12,7L12,7z\" />\n    </G>\n  </Svg>\n);\n\nexport default IconSettings;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { IConversation } from \"../components/Conversations/types\";\nimport { Message } from \"@twilio/conversations/lib/message\";\nimport { IMessage } from \"react-native-gifted-chat\";\n\nexport const getProspectIdFromConversation = (\n  conversation: IConversation | null\n) => {\n  if (!conversation) {\n    return \"\";\n  }\n  return conversation.attributes.prospect_id;\n};\n\nexport const formatMessageForGiftedChat: (\n  message: Message,\n  identity: string\n) => Promise<IMessage> = async (message: Message, identity: string) => {\n  const isConsumerMessage = message.author?.includes(\"consumer\");\n  const name = isConsumerMessage\n    ? // @ts-expect-error\n      message.conversation?.title\n    : \"\";\n\n  const id = isConsumerMessage ? message.author : identity;\n\n  const formattedMessage: IMessage = {\n    _id: message.sid,\n    text: message.body,\n    createdAt: message.dateCreated,\n\n    // system: m.author === \"system\",\n    user: {\n      _id: id,\n      name,\n    },\n  };\n\n  if (message.type === \"media\") {\n    if (message.media.contentType.startsWith(\"image\")) {\n      formattedMessage.image = await message.media.getContentTemporaryUrl();\n    } else if (message.media.contentType.startsWith(\"video\")) {\n      formattedMessage.video = await message.media.getContentTemporaryUrl();\n    }\n  }\n\n  return formattedMessage;\n};\n\nexport const formatMessagesForGiftedChat = async (\n  messages: Message[],\n  identity: string\n) => Promise.all(messages.map((m) => formatMessageForGiftedChat(m, identity)));\n","import React, { useContext } from \"react\";\n\n/**\n * React.createContext can be set with a default. In most cases, there is no sensible default value,\n * and having one leads to difficult semantic bugs - components behaving incorrectly with no error\n * to work with. Instead, you'd like to make the provider required, and give a helpful error if it's\n * not available.\n */\nexport const createRequiredContext = <TContext extends any>(name: string) => {\n  // intentional use of any - the purpose of this is to cause runtime errors!\n  const Context = React.createContext<TContext>(undefined as any);\n  const providerName = `${name}Provider`;\n  const hookName = `use${name}`;\n\n  Context.displayName = providerName;\n\n  const hook = () => {\n    // This is a factory function for a custom hook; it will eventually be\n    // run within a function component.\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const context = useContext(Context);\n\n    if (typeof context === \"undefined\") {\n      throw new Error(\n        `${name} context not found. Please import ${providerName} and add it to a component above ${hookName}().`\n      );\n    }\n    return context;\n  };\n  return [Context.Provider, hook] as const;\n};\n","import React from 'react';\nimport axios from 'axios';\nimport { Client as ConversationsClient } from '@twilio/conversations';\nimport { Client } from '@twilio/conversations/lib/client';\nimport { IMessage } from 'react-native-gifted-chat';\nimport { Message } from '@twilio/conversations/lib/message';\n\nimport {\n  formatMessageForGiftedChat,\n  formatMessagesForGiftedChat,\n} from '../../../utils/messageUtils';\nimport { IConversation } from '../types';\nimport { createRequiredContext } from './requiredContext';\n\nexport type TwilioConversationsContextType = {\n  availableConversations: IConversation[] | [];\n  conversationsLoaded: boolean;\n  identity: string;\n  loadConversation: (conversation: IConversation) => void;\n  onMessageSend: (messages: IMessage[]) => void;\n  onConversationSelected: (conversation: IConversation | null) => Promise<void>;\n  selectedConversation: IConversation | null;\n  setSelectedConversation: React.Dispatch<\n    React.SetStateAction<IConversation | null>\n  >;\n  unreadUsers: number;\n  updateConversation: (conversation: IConversation) => void;\n};\n\nconst [Provider, useTwilioConversations] = createRequiredContext<\n  TwilioConversationsContextType\n>('TwilioConversations');\n\ntype Props = {\n  children: React.ReactNode;\n  tokenEndpoint: string;\n  prospectId?: string | undefined;\n};\n\nconst TwilioConversationsProvider = ({\n  children,\n  tokenEndpoint,\n  prospectId,\n}: Props) => {\n  const [unreadUsers, setUnreadUsers] = React.useState(0);\n  const [availableConversations, setAvailableConversations] = React.useState<\n    IConversation[] | []\n  >([]);\n  const [conversations, setConversations] = React.useState<\n    Map<string, IConversation>\n  >(new Map());\n  const [currentTokenEndpoint, setCurrentTokenEndpoint] = React.useState(\n    tokenEndpoint\n  );\n  const [conversationsLoaded, setConversationsLoaded] = React.useState(false);\n  const [\n    selectedConversation,\n    setSelectedConversation,\n  ] = React.useState<IConversation | null>(null);\n\n  const [client, setClient] = React.useState<Client | null>(null);\n  const [identity, setIdentity] = React.useState('');\n\n  const getTokenData = React.useCallback(async () => {\n    const tokenResp = axios.get(tokenEndpoint);\n    return tokenResp;\n  }, [tokenEndpoint]);\n\n  const handleExpiredToken = React.useCallback(async () => {\n    const tokenResp = await getTokenData();\n    await client?.updateToken(tokenResp.data.token);\n  }, [client, getTokenData]);\n\n  const getMessages = React.useCallback(\n    async (conversation: IConversation | null) => {\n      if (!conversation) {\n        return [];\n      }\n      const messages = await conversation.getMessages();\n      const displayableMessages = messages.items.filter(\n        // @ts-expect-error\n        m => !m.attributes.to || m.attributes.to === identity\n      );\n\n      return formatMessagesForGiftedChat(displayableMessages, identity);\n    },\n    [identity]\n  );\n\n  const mapTwilioConversationToCommsConversation = React.useCallback(\n    async (conversation: IConversation) => {\n      const title =\n        conversation?.attributes?.friendly_name_dealership ||\n        conversation?.friendlyName ||\n        conversation?.uniqueName;\n      conversation.title = title;\n      conversation.id = conversation.sid;\n      const messages = await getMessages(conversation);\n      conversation.messages = messages;\n      conversation.mostRecentMessage = messages[0]?.text;\n      conversation.unreadMessagesCount =\n        (await conversation.getUnreadMessagesCount()) || 0;\n      return conversation;\n    },\n    [getMessages]\n  );\n\n  const loadConversation = React.useCallback(\n    async (conversation: IConversation) => {\n      const mappedConversation = await mapTwilioConversationToCommsConversation(\n        conversation\n      );\n      setConversations((curr: Map<string, IConversation>) =>\n        curr\n          ? new Map(curr.set(mappedConversation.sid, mappedConversation))\n          : new Map()\n      );\n    },\n    [mapTwilioConversationToCommsConversation]\n  );\n\n  const updateConversation = React.useCallback(\n    (newConversation: IConversation) =>\n      setConversations(\n        (curr: Map<string, IConversation>) =>\n          new Map(curr.set(newConversation.sid, newConversation))\n      ),\n    []\n  );\n\n  const renderNewMessage = React.useCallback(\n    ({\n      author,\n      conversationId,\n      newMessage,\n    }: {\n      author: string;\n      conversationId: string;\n      newMessage: IMessage;\n    }) => {\n      setConversations((curr: Map<string, IConversation>) => {\n        const conversation = curr.get(conversationId);\n        if (!conversation) {\n          return curr;\n        }\n        let messages = conversation.messages;\n        const lastMessage = messages[0];\n        if (lastMessage?.pending) {\n          messages[0] = newMessage;\n        } else {\n          messages = [newMessage, ...conversation.messages];\n        }\n        conversation.mostRecentMessage = messages[0].text;\n        conversation.messages = messages;\n        if (conversation.lastMessage) {\n          conversation.lastMessage.dateCreated = new Date(newMessage.createdAt);\n        }\n        if (!author.includes('dealership')) {\n          conversation.unreadMessagesCount =\n            conversation.unreadMessagesCount + 1;\n        } else {\n          conversation.unreadMessagesCount = 0;\n          conversation.setAllMessagesRead();\n        }\n        return new Map(curr.set(conversation.sid, conversation));\n      });\n    },\n    []\n  );\n\n  const messageAdded = React.useCallback(\n    async (message: Message) => {\n      const newMessage = await formatMessageForGiftedChat(message, identity);\n\n      renderNewMessage({\n        author: message.author,\n        conversationId: message.conversation.sid,\n        newMessage,\n      });\n    },\n    [renderNewMessage, identity]\n  );\n\n  React.useEffect(() => {\n    if (conversationsLoaded) {\n      const arr = Array.from(conversations, ([, value]) => value).sort(\n        (a, b) =>\n          (b?.lastMessage?.dateCreated || b.dateCreated) -\n          (a?.lastMessage?.dateCreated || a.dateCreated)\n      );\n      setAvailableConversations(arr);\n    }\n  }, [conversations, conversationsLoaded]);\n\n  const onConversationSelected = React.useCallback(\n    async (conversation: IConversation | null) => {\n      if (conversation) {\n        conversation.unreadMessagesCount = 0;\n        if (conversation.lastReadMessageIndex === null) {\n          conversation.advanceLastReadMessageIndex(0);\n        }\n      }\n      setSelectedConversation(conversation);\n    },\n    []\n  );\n\n  const loadUniqueConversation = React.useCallback(\n    async (client: Client) => {\n      if (prospectId) {\n        const uniqueConversation = await client.getConversationByUniqueName(\n          `prospect_conversation_${prospectId}`\n        );\n\n        if (uniqueConversation) {\n          const commsConversation = await mapTwilioConversationToCommsConversation(\n            // @ts-expect-error\n            uniqueConversation\n          );\n\n          return {\n            unreadUsers: 0,\n            availableConversations: [commsConversation],\n            selectedConversation: commsConversation,\n          };\n        }\n      }\n      return {\n        unreadUsers: 0,\n        availableConversations: [],\n        selectedConversation: null,\n      };\n    },\n    [prospectId, mapTwilioConversationToCommsConversation]\n  );\n\n  const loadMultipleConversations = React.useCallback(\n    async (client: Client) => {\n      let subscribedConversations = await client.getSubscribedConversations();\n      let aggConversations = [...subscribedConversations.items];\n      while (subscribedConversations.hasNextPage) {\n        // eslint-disable-next-line\n        subscribedConversations = await subscribedConversations.nextPage();\n        aggConversations = aggConversations.concat(\n          subscribedConversations.items\n        );\n      }\n\n      let unreadMessagesUsersCount = 0;\n      const adaptedConversationPromises = aggConversations.map(async c => {\n        if ((await c.getUnreadMessagesCount()) && c.lastReadMessageIndex) {\n          unreadMessagesUsersCount += 1;\n        }\n        // @ts-expect-error\n        return mapTwilioConversationToCommsConversation(c);\n      });\n      const adaptedConversations = await Promise.all(\n        adaptedConversationPromises\n      );\n      adaptedConversations.sort(\n        (a, b) =>\n          (b?.lastMessage?.dateCreated || b.dateCreated) -\n          (a?.lastMessage?.dateCreated || a.dateCreated)\n      );\n      return {\n        unreadUsers: unreadMessagesUsersCount,\n        availableConversations: adaptedConversations,\n        selectedConversation: null,\n      };\n    },\n    [mapTwilioConversationToCommsConversation]\n  );\n\n  const loadConversations = React.useCallback(\n    async (client: Client) => {\n      const conversationsResult = prospectId\n        ? await loadUniqueConversation(client)\n        : await loadMultipleConversations(client);\n\n      setUnreadUsers(conversationsResult.unreadUsers);\n      setAvailableConversations(conversationsResult.availableConversations);\n      if (conversationsResult.selectedConversation) {\n        setSelectedConversation(conversationsResult.selectedConversation);\n      }\n      setConversationsLoaded(true);\n    },\n    [prospectId, loadUniqueConversation, loadMultipleConversations]\n  );\n\n  const initializeClient = React.useCallback(async () => {\n    const tokenResp = await getTokenData();\n    const identity = tokenResp.data.identity;\n    const token = tokenResp.data.token;\n    setIdentity(identity);\n    const twilioClient = await ConversationsClient.create(token);\n    setClient(twilioClient);\n  }, [getTokenData]);\n\n  React.useEffect(() => {\n    if (tokenEndpoint) {\n      if (!client && !identity) {\n        initializeClient();\n      } else if (tokenEndpoint !== currentTokenEndpoint) {\n        // re-initialize when the dealer changes\n        client?.off('messageAdded', messageAdded);\n        client?.off('conversationAdded', loadConversation);\n        client?.off('tokenAboutToExpire', handleExpiredToken);\n        client?.off('tokenExpired', handleExpiredToken);\n        setConversationsLoaded(false);\n        setConversations(new Map());\n        setAvailableConversations([]);\n        setCurrentTokenEndpoint(tokenEndpoint);\n        setClient(null);\n        initializeClient();\n      }\n    }\n  }, [\n    tokenEndpoint,\n    client,\n    identity,\n    initializeClient,\n    currentTokenEndpoint,\n    messageAdded,\n    loadConversation,\n    handleExpiredToken,\n  ]);\n\n  React.useEffect(() => {\n    if (client && identity) {\n      // Event handlers are cached with the state at the time they are added\n      // so they need to be refresh when one of the state dependency changes,\n      // ie. in this particular case, identity\n      client.on('conversationAdded', loadConversation);\n      client.on('messageAdded', messageAdded);\n      client.on('tokenAboutToExpire', handleExpiredToken);\n      client.on('tokenExpired', handleExpiredToken);\n      return () => {\n        // Note that this function will fire if this useEffect gets triggered, despite\n        // whether it passes the if-statement check.\n        // In this case, we want to remove the listeners when identity or client changes.\n        client?.off('messageAdded', messageAdded);\n        client?.off('conversationAdded', loadConversation);\n        client?.off('tokenAboutToExpire', handleExpiredToken);\n        client?.off('tokenExpired', handleExpiredToken);\n      };\n    }\n    return undefined;\n  }, [client, identity, loadConversation, messageAdded, handleExpiredToken]);\n\n  React.useEffect(() => {\n    if (client && !conversationsLoaded) {\n      // loadConversations will only fire once per client init, controlled by conversationsLoaded flag\n      loadConversations(client);\n    }\n  }, [client, conversationsLoaded, loadConversations]);\n\n  const onMessageSend = React.useCallback(\n    (newMessages = []) => {\n      const newMessage = newMessages[0];\n\n      if (newMessage && selectedConversation) {\n        renderNewMessage({\n          author: identity,\n          conversationId: selectedConversation.sid,\n          newMessage: { ...newMessage, user: { _id: identity }, pending: true },\n        });\n\n        if (newMessage.hasOwnProperty('text')) {\n          selectedConversation.sendMessage(newMessage.text);\n        } else if (newMessage.hasOwnProperty('image')) {\n          const formData = new FormData();\n          formData.append('file', {\n            //@ts-expect-error\n            uri: newMessage.image,\n            type: 'image/jpeg',\n            name: 'image.jpg',\n          });\n          selectedConversation.sendMessage(formData);\n        }\n\n        selectedConversation.setAllMessagesRead();\n      }\n    },\n    [identity, selectedConversation, renderNewMessage]\n  );\n\n  const returnValues = {\n    availableConversations,\n    conversationsLoaded,\n    getMessages,\n    identity,\n    loadConversation,\n    onConversationSelected,\n    onMessageSend,\n    selectedConversation,\n    setSelectedConversation,\n    unreadUsers,\n    updateConversation,\n  };\n\n  return <Provider value={returnValues}>{children}</Provider>;\n};\n\nexport { TwilioConversationsProvider, useTwilioConversations };\n","import React from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport Text from \"../Text\";\nimport { tcUnreadColor } from \"../../constants/style\";\n\ntype Props = {\n  type: \"newMessage\" | \"newProspect\";\n};\n\nconst UnreadInteractionBadge = ({ type }: Props) => {\n  return (\n    <View\n      style={[\n        type === \"newProspect\"\n          ? styles.newProspectContainer\n          : styles.newMessageContainer,\n      ]}\n    >\n      <Text style={type === \"newProspect\" && styles.countStyleProspect} bold>\n        {type === \"newProspect\" && \"new\"}\n      </Text>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  newProspectContainer: {\n    height: 15,\n    width: 30,\n    display: \"flex\",\n    alignContent: \"flex-start\",\n    borderRadius: 30,\n    backgroundColor: tcUnreadColor,\n    justifyContent: \"center\",\n  },\n  newMessageContainer: {\n    width: 10,\n    height: 10,\n    borderRadius: 20,\n    backgroundColor: tcUnreadColor,\n  },\n  countStyleProspect: {\n    fontSize: 11,\n    color: \"white\",\n    textAlign: \"center\",\n  },\n});\n\nexport default UnreadInteractionBadge;\n","// TODO: added this to ignore noUnusedLocals\n// @ts-nocheck\nimport React from \"react\";\nimport {\n  ActivityIndicator,\n  StyleSheet,\n  View,\n  FlatList,\n  TouchableOpacity,\n  Image,\n} from \"react-native\";\nimport Heading from \"../Heading\";\nimport Text from \"../Text\";\nimport { ListItem, SearchBar } from \"react-native-elements\";\nimport {\n  headerSpacing,\n  tcDark,\n  tcBorderColor,\n  inputContainer,\n  inputText,\n  roundedContainer,\n} from \"../../constants/style\";\nimport { getAvatarSource } from \"../../utils/avatarUtils\";\nimport { formatDate } from \"../../utils/stringUtils\";\nimport IconSettings from \"./components/icons/IconSettings\";\nimport { useTwilioConversations } from \"./hooks/TwilioConversationsProvider\";\nimport { IConversation } from \"./types\";\nimport UnreadInteractionBadge from \"./UnreadInteractionBadge\";\n\nexport type ConversationListProps = {\n  onConversationPressed?: () => void;\n  onSettingsPress?: () => void;\n  emptyListComponent?: () => React.ReactElement;\n  participantOptedOut?: boolean;\n  onMessagesHubView?: (\n    numUnreadUsers: number,\n    numTotalMsgUsers: number\n  ) => void;\n};\n\nconst ConversationList = ({\n  onConversationPressed,\n  onSettingsPress,\n  emptyListComponent,\n  participantOptedOut,\n  onMessagesHubView = () => null,\n}: ConversationListProps) => {\n  const {\n    availableConversations,\n    conversationsLoaded,\n    selectedConversation,\n    onConversationSelected,\n    unreadUsers,\n  } = useTwilioConversations();\n  const [searchValue, updateSearchValue] = React.useState(\"\");\n  const hasAvailableConversations = !!availableConversations.length;\n\n  React.useEffect(() => {\n    if (conversationsLoaded) {\n      onMessagesHubView(unreadUsers, availableConversations.length);\n    }\n  }, [\n    availableConversations,\n    conversationsLoaded,\n    onMessagesHubView,\n    selectedConversation,\n    unreadUsers,\n  ]);\n\n  const renderItem = ({\n    item,\n    index,\n  }: {\n    index: number;\n    item: IConversation;\n  }) => {\n    return (\n      <Item\n        item={item}\n        index={index}\n        onPress={() => {\n          onConversationPressed?.();\n          onConversationSelected(item);\n        }}\n        participantOptedOut={participantOptedOut}\n      />\n    );\n  };\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <Heading bold size=\"2\">\n          Messages\n        </Heading>\n        <TouchableOpacity\n          hitSlop={{ top: 15, bottom: 15, left: 15, right: 10 }}\n          style={styles.settingsIcon}\n          onPress={onSettingsPress}\n        >\n          <IconSettings />\n        </TouchableOpacity>\n      </View>\n      {/* TODO: enable when feature ready  */}\n      {/*{hasAvailableConversations && (*/}\n      {/*  <SearchBar*/}\n      {/*    testID=\"searchMessagesBar\"*/}\n      {/*    containerStyle={{*/}\n      {/*      ...roundedContainer,*/}\n      {/*      marginBottom: 5,*/}\n      {/*      marginLeft: 15,*/}\n      {/*      marginRight: 10,*/}\n      {/*    }}*/}\n      {/*    inputContainerStyle={inputContainer}*/}\n      {/*    inputStyle={inputText}*/}\n      {/*    lightTheme*/}\n      {/*    placeholder=\"Search Messages\"*/}\n      {/*    onChangeText={(val) => updateSearchValue(val)}*/}\n      {/*    round*/}\n      {/*    value={searchValue}*/}\n      {/*  />*/}\n      {/*)}*/}\n      {availableConversations && conversationsLoaded ? (\n        <FlatList\n          data={availableConversations}\n          renderItem={renderItem}\n          ListEmptyComponent={emptyListComponent}\n          keyExtractor={(item) => item.sid}\n          contentContainerStyle={\n            !hasAvailableConversations && { height: \"100%\" }\n          }\n        />\n      ) : (\n        <ActivityIndicator\n          testID=\"loadingSpinner\"\n          size=\"large\"\n          color=\"gray\"\n          style={styles.loading}\n        />\n      )}\n    </View>\n  );\n};\nconst OPTED_OUT_MESSAGE = \"Opted out of text communication\";\n\nconst Item = ({\n  index,\n  item,\n  onPress,\n  participantOptedOut,\n}: {\n  index: number;\n  item: IConversation;\n  onPress: () => void;\n  participantOptedOut?: boolean;\n}) => {\n  const { lastMessage, lastReadMessageIndex, messages, unreadMessagesCount } =\n    item || {};\n  const hasNotBeenInteractedWith =\n    lastReadMessageIndex === null || unreadMessagesCount > 0;\n  const hasNewInteraction =\n    (messages.length === 0 && lastReadMessageIndex === null) ||\n    unreadMessagesCount > 0;\n\n  const hasOptedOut = participantOptedOut || item?.attributes.hasOptedOut;\n\n  return (\n    <TouchableOpacity\n      accessible={false}\n      onPress={onPress}\n      testID={`conversationList${index}`}\n    >\n      <ListItem containerStyle={styles.itemContainer}>\n        <Image\n          source={getAvatarSource(index)}\n          style={[styles.avatarImg, hasOptedOut && styles.optedOutImage]}\n        />\n        <View style={styles.messageContainer}>\n          <View style={styles.listItemContent}>\n            <Heading\n              size=\"1\"\n              style={[{ width: \"95%\" }, hasOptedOut && styles.optedOutText]}\n              bold={hasNotBeenInteractedWith}\n              numberOfLines={1}\n            >\n              {item.title}\n            </Heading>\n            <Text\n              numberOfLines={1}\n              style={[\n                styles.messagePreview,\n                hasOptedOut && styles.optedOutText,\n              ]}\n              bold={hasNotBeenInteractedWith}\n              size={15}\n            >\n              {hasOptedOut ? OPTED_OUT_MESSAGE : item.mostRecentMessage}\n            </Text>\n          </View>\n          <View style={styles.dateTimeContainer}>\n            <Text style={styles.datetime}>\n              {formatDate(lastMessage?.dateCreated || item?.dateCreated)}\n            </Text>\n            {hasNewInteraction && (\n              <View style={{ marginTop: 15 }}>\n                <UnreadInteractionBadge\n                  type={messages.length === 0 ? \"newProspect\" : \"newMessage\"}\n                />\n              </View>\n            )}\n          </View>\n        </View>\n      </ListItem>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  loading: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    ...headerSpacing,\n  },\n  avatarImg: {\n    height: 50,\n    width: 50,\n  },\n  topItem: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  messagePreview: {\n    marginTop: 10,\n    color: tcDark,\n    width: \"95%\",\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 56,\n    justifyContent: \"space-between\",\n    paddingHorizontal: 15,\n  },\n  datetime: {\n    fontSize: 12,\n    color: \"#999\",\n  },\n  optedOutText: {\n    opacity: 0.2,\n    color: tcDark,\n  },\n  optedOutImage: {\n    opacity: 0.3,\n  },\n  itemContainer: {\n    borderBottomColor: tcBorderColor,\n    borderBottomWidth: 1,\n    borderBottomEndRadius: 15,\n    borderBottomStartRadius: 15,\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"row\",\n    alignContent: \"center\",\n  },\n  settingsIcon: {\n    width: 20,\n    height: 20,\n  },\n  listItemContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    width: \"90%\",\n    flex: 1,\n  },\n  messageContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignContent: \"center\",\n    width: \"82%\",\n  },\n  dateTimeContainer: {\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    top: 3,\n  },\n});\n\nexport default ConversationList;\n","import React from \"react\";\nimport Svg, { Circle, G, Path } from \"react-native-svg\";\n\ntype Props = {\n  width?: string;\n  height?: string;\n};\n\nconst IconCamera = ({ width = \"24\", height = \"24\" }: Props) => (\n  <Svg viewBox=\"0 0 24 24\" width={width} height={height}>\n    <G strokeWidth={2} stroke=\"black\" fill=\"none\">\n      <Circle cx={12} cy={13} r={3.5} />\n      <Path d=\"M20.5 6.5h-2a1.64 1.64 0 01-1.45-.89 2 2 0 00-1.79-1.11H8.74A2 2 0 007 5.61a1.64 1.64 0 01-1.5.89h-2a2 2 0 00-2 2v10a2 2 0 002 2h17a2 2 0 002-2v-10a2 2 0 00-2-2z\" />\n    </G>\n  </Svg>\n);\n\nexport default IconCamera;\n","import React from \"react\";\nimport Svg, { G, Path } from \"react-native-svg\";\n\ntype Props = {\n  width?: string;\n  height?: string;\n};\n\nconst IconInventory = ({ width = \"24\", height = \"24\" }: Props) => (\n  <Svg viewBox=\"0 0 24 24\" width={width} height={height}>\n    <G strokeWidth={1} stroke=\"black\" fill=\"none\">\n      <Path d=\"M6 9h12v1H6zM7.5 13h-3a.5.5 0 000 1h3a.5.5 0 000-1zM19.5 13h-3a.5.5 0 000 1h3a.5.5 0 000-1z\" />\n      <Path d=\"M23 9h-1.5a.33.33 0 00-.17 0l-1.55-3.07A3.49 3.49 0 0016.65 4h-9.3a3.49 3.49 0 00-3.13 1.93L2.67 9a.33.33 0 00-.17 0H1a.5.5 0 000 1h1.19l-.61 1.22A5.53 5.53 0 001 13.68v4.82A1.5 1.5 0 002.5 20h2A1.5 1.5 0 006 18.5v-.35L18 18v.46A1.5 1.5 0 0019.5 20h2a1.5 1.5 0 001.5-1.5v-4.82a5.53 5.53 0 00-.58-2.46L21.81 10H23a.5.5 0 000-1zm-1 9.5a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5V17l-14 .16v1.34a.5.5 0 01-.5.5h-2a.5.5 0 01-.5-.5v-4.82a4.41 4.41 0 01.48-2l2.64-5.3A2.48 2.48 0 017.35 5h9.3a2.48 2.48 0 012.23 1.38l2.64 5.29a4.41 4.41 0 01.48 2z\" />\n    </G>\n  </Svg>\n);\n\nexport default IconInventory;\n","// TODO: added this to ignore noUnusedLocals\n// @ts-nocheck\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { StyleSheet, TouchableOpacity, View } from \"react-native\";\nimport { pickImageAsync, takePictureAsync } from \"./mediaUtils\";\nimport IconCamera from \"./icons/IconCamera\";\nimport IconInventory from \"./icons/IconInventory\";\n\ntype CustomActionsProps = {\n  onManualOfferPress: () => void;\n  onSend: () => void;\n  onCameraPressed: () => void;\n};\nconst CustomActions = (\n  {\n    onManualOfferPress = () => null,\n    onSend = () => null,\n    onCameraPressed = () => null,\n  }: CustomActionsProps,\n  context: any\n) => {\n  const onActionsPress = () => {\n    onCameraPressed();\n    const options = [\"Choose From Library\", \"Take Picture\", \"Cancel\"];\n    const cancelButtonIndex = options.length - 1;\n    context.actionSheet().showActionSheetWithOptions(\n      {\n        options,\n        cancelButtonIndex,\n      },\n      async (buttonIndex: number) => {\n        switch (buttonIndex) {\n          case 0:\n            pickImageAsync(onSend);\n            return;\n          case 1:\n            takePictureAsync(onSend);\n            return;\n          default:\n        }\n      }\n    );\n  };\n\n  const renderCameraIcon = React.useCallback(() => <IconCamera />, []);\n  const renderManualOfferIcon = React.useCallback(() => <IconInventory />, []);\n\n  return (\n    <View style={styles.wrapper}>\n      {/*<TouchableOpacity style={styles.container} onPress={onActionsPress}>*/}\n      {/*  {renderCameraIcon()}*/}\n      {/*</TouchableOpacity>*/}\n      <TouchableOpacity\n        style={styles.container}\n        onPress={onManualOfferPress}\n        testID=\"manualOfferIcon\"\n      >\n        {renderManualOfferIcon()}\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: 26,\n    height: 26,\n    marginLeft: 10,\n    marginBottom: 10,\n  },\n  wrapper: {\n    flexDirection: \"row\",\n    width: 30,\n  },\n  iconText: {\n    color: \"#b2b2b2\",\n    fontWeight: \"bold\",\n    fontSize: 16,\n    backgroundColor: \"transparent\",\n    textAlign: \"center\",\n  },\n});\n\nCustomActions.contextTypes = {\n  actionSheet: PropTypes.func,\n};\n\nexport default CustomActions;\n","import * as React from \"react\";\nimport Svg, { G, Path } from \"react-native-svg\";\n\nconst IconToBottom = ({ width = 25, height = 25 }) => (\n  <Svg viewBox=\"0 0 24 24\" width={width} height={height}>\n    <G stroke=\"black\" fill=\"#343434\">\n      <Path d=\"M4.27 17.49H19.73V18.49H4.27V17.49Z\" />\n      <Path d=\"M19.02 6.45L19.73 7.16 12.04 14.86 12 14.82 11.96 14.86 4.27 7.16 4.98 6.45 12 13.47 19.02 6.45Z\" />\n    </G>\n  </Svg>\n);\n\nexport default IconToBottom;\n","import React from \"react\";\nimport { StyleSheet, TouchableOpacity } from \"react-native\";\nimport { Header } from \"react-native-elements\";\nimport AntDesign from \"react-native-vector-icons/AntDesign\";\nimport Text from \"../../Text\";\n\ntype NavBarProps = {\n  onPressLeft: () => void;\n  title: string;\n  onPressTitle: () => void;\n  onPressRight: () => void;\n};\n\nconst NavBar = ({\n  onPressLeft,\n  title,\n  onPressTitle,\n  onPressRight,\n}: NavBarProps) => (\n  <Header\n    backgroundColor=\"#f5f5f5\"\n    leftComponent={\n      <TouchableOpacity\n        onPress={onPressLeft}\n        hitSlop={{ top: 10, bottom: 10, left: 10 }}\n        style={styles.leftComponent}\n      >\n        <AntDesign name=\"left\" size={24} color=\"black\" />\n      </TouchableOpacity>\n    }\n    centerComponent={\n      <Text bold size={18} onPress={onPressTitle}>\n        {title}\n      </Text>\n    }\n    rightComponent={\n      <AntDesign\n        name=\"ellipsis1\"\n        size={24}\n        color=\"black\"\n        onPress={onPressRight}\n        testID=\"prospectProfileBtn\"\n      />\n    }\n    containerStyle={{\n      height: 100,\n    }}\n  />\n);\n\nconst styles = StyleSheet.create({\n  leftComponent: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  avatarImg: {\n    height: 30,\n    width: 30,\n    marginLeft: 10,\n  },\n});\n\nexport default NavBar;\n","import React from \"react\";\nimport { BackHandler, StyleSheet, View, Platform } from \"react-native\";\nimport {\n  ActionsProps,\n  Bubble,\n  BubbleProps,\n  Composer,\n  ComposerProps,\n  GiftedChat,\n  IMessage,\n  InputToolbar,\n  InputToolbarProps,\n  Send,\n  SendProps,\n  SystemMessage,\n  SystemMessageProps,\n} from \"react-native-gifted-chat\";\n\nimport Feather from \"react-native-vector-icons/Feather\";\nimport MaterialIcons from \"react-native-vector-icons/MaterialIcons\";\n\nimport Text from \"../Text\";\nimport { getProspectIdFromConversation } from \"../../utils/messageUtils\";\nimport {\n  shadowBox,\n  inputText,\n  roundedContainer,\n  tcFont,\n  tcFontWeb,\n} from \"../../constants/style\";\nimport CustomActions from \"./components/CustomActions\";\nimport IconToBottom from \"./components/icons/IconToBottom\";\nimport NavBar from \"./components/NavBar\";\nimport { useTwilioConversations } from \"./hooks/TwilioConversationsProvider\";\n\nexport type ConversationProps = {\n  bottomOffset?: number;\n  manualOfferBtnComponent?: (prospect: ProspectInfo) => React.ReactNode;\n  navBarRightComponent?: (prospect: ProspectInfo) => React.ReactNode;\n  onManualOfferPress?: () => void;\n  onNavBarPressLeft?: () => void;\n  onNavBarPressRight?: () => void;\n  onNavBarPressTitle?: () => void;\n  participantOptedOut?: boolean;\n  renderCustomAvatar?: () => React.ReactNode;\n  onUserMessagesView?: (prospectId: string) => void;\n  onCameraPressed?: () => void;\n  predefinedChatInput?: string;\n  renderUsernameOnMessage?: boolean;\n  webMode?: boolean;\n};\n\nexport type ProspectInfo = {\n  id: string;\n  name: string;\n};\n\nconst Conversation = ({\n  bottomOffset = 0,\n  manualOfferBtnComponent,\n  onManualOfferPress = () => null,\n  navBarRightComponent,\n  onNavBarPressLeft,\n  onNavBarPressRight,\n  onNavBarPressTitle,\n  participantOptedOut,\n  renderCustomAvatar,\n  predefinedChatInput = \"\",\n  onUserMessagesView = () => null,\n  onCameraPressed = () => null,\n  renderUsernameOnMessage = false,\n  webMode = false,\n}: ConversationProps) => {\n  const [conversationInputText, setConversationInputText] = React.useState(\"\");\n  const {\n    identity,\n    onMessageSend,\n    selectedConversation,\n    setSelectedConversation,\n    updateConversation,\n  } = useTwilioConversations();\n\n  React.useEffect(() => {\n    const prospectId = getProspectIdFromConversation(selectedConversation);\n    onUserMessagesView(prospectId);\n  }, [onUserMessagesView, selectedConversation]);\n\n  React.useEffect(() => {\n    setConversationInputText(predefinedChatInput);\n  }, [predefinedChatInput]);\n\n  const hasOptedOut =\n    participantOptedOut || selectedConversation?.attributes.hasOptedOut;\n\n  const handleBackPress = React.useCallback(() => {\n    if (selectedConversation) {\n      selectedConversation.setAllMessagesRead();\n      selectedConversation.unreadMessagesCount = 0;\n      updateConversation(selectedConversation);\n      setSelectedConversation(null);\n    }\n  }, [selectedConversation, setSelectedConversation, updateConversation]);\n\n  React.useEffect(() => {\n    if (webMode) return;\n\n    const handleHardwareBackPress = () => {\n      if (selectedConversation) {\n        onNavBarPressLeft?.();\n        handleBackPress();\n        return true;\n      }\n      return false;\n    };\n\n    BackHandler.addEventListener(\"hardwareBackPress\", handleHardwareBackPress);\n\n    return () =>\n      BackHandler.removeEventListener(\n        \"hardwareBackPress\",\n        handleHardwareBackPress\n      );\n  }, [\n    handleBackPress,\n    onNavBarPressLeft,\n    selectedConversation,\n    setSelectedConversation,\n    webMode,\n  ]);\n\n  const renderScrollToBottom = () => <IconToBottom />;\n\n  const renderCustomActions = (props: ActionsProps) => {\n    // Note: this check is different from Platform.OS === web (for cypress)\n    // vs webMode\n    if (webMode) return null;\n\n    return (\n      <CustomActions\n        {...props}\n        onManualOfferPress={onManualOfferPress}\n        onCameraPressed={onCameraPressed}\n        //@ts-expect-error\n        onSend={onMessageSend}\n      />\n    );\n  };\n\n  const renderBubble = (props: BubbleProps<IMessage>) => {\n    return (\n      <View style={styles.chatBubble} testID=\"message\">\n        <Bubble {...props} />\n      </View>\n    );\n  };\n\n  const renderSystemMessage = (props: SystemMessageProps<IMessage>) => {\n    return (\n      <SystemMessage\n        {...props}\n        containerStyle={{\n          marginBottom: 15,\n        }}\n        textStyle={{\n          fontSize: 14,\n          fontFamily: webMode ? tcFontWeb : tcFont,\n        }}\n      />\n    );\n  };\n\n  const renderCustomInputToolbar = (props: InputToolbarProps) => {\n    return (\n      <InputToolbar\n        {...props}\n        containerStyle={{\n          ...roundedContainer,\n          marginHorizontal: 15,\n          marginBottom: 10,\n          minHeight: 35,\n          justifyContent: \"center\",\n        }}\n      />\n    );\n  };\n\n  const renderCustomComposer = (props: ComposerProps) => {\n    let textInputProps = { ...props.textInputProps };\n    const textInputStyle = {\n      ...inputText,\n      marginBottom: 3,\n    };\n\n    if (webMode) {\n      textInputProps = {\n        ...props.textInputProps,\n        blurOnSubmit: true,\n        onSubmitEditing: () => {\n          //@ts-expect-error\n          if (props.text && props.onSend) {\n            //@ts-expect-error\n            props.onSend({ text: props.text.trim() }, true);\n          }\n        },\n      };\n      textInputStyle.fontFamily = tcFontWeb;\n    }\n\n    return (\n      <Composer\n        {...props}\n        placeholder=\"Type a message\"\n        textInputStyle={textInputStyle}\n        textInputProps={textInputProps}\n      />\n    );\n  };\n\n  const renderSend = (props: SendProps<IMessage>) => {\n    let SendButton = <MaterialIcons size={30} name={\"send\"} />;\n    if (webMode) {\n      SendButton = <Text style={styles.sendButtonWeb}>Send</Text>;\n    } else if (Platform.OS === \"ios\") {\n      SendButton = <Feather name=\"arrow-up-circle\" size={24} color=\"black\" />;\n    }\n\n    return (\n      <Send {...props} containerStyle={styles.sendContainer}>\n        {SendButton}\n      </Send>\n    );\n  };\n\n  return (\n    <View style={styles.container} accessibilityLabel=\"main\" testID=\"main\">\n      {!webMode && (\n        <NavBar\n          title={selectedConversation?.title || \"\"}\n          onPressLeft={async () => {\n            onNavBarPressLeft?.();\n            handleBackPress();\n          }}\n          onPressRight={() => {\n            onNavBarPressRight?.();\n          }}\n          onPressTitle={() => {\n            onNavBarPressTitle?.();\n          }}\n        />\n      )}\n\n      <GiftedChat\n        text={conversationInputText}\n        onInputTextChanged={setConversationInputText}\n        messages={\n          Platform.OS !== \"web\"\n            ? selectedConversation?.messages.reverse()\n            : selectedConversation?.messages\n        }\n        onSend={onMessageSend}\n        user={{ _id: identity, name: identity }}\n        scrollToBottom\n        scrollToBottomComponent={renderScrollToBottom}\n        keyboardShouldPersistTaps=\"never\"\n        renderActions={renderCustomActions}\n        renderBubble={renderBubble}\n        renderSystemMessage={renderSystemMessage}\n        renderSend={renderSend}\n        minInputToolbarHeight={!hasOptedOut ? 44 : 0}\n        renderAvatar={renderCustomAvatar}\n        renderInputToolbar={hasOptedOut ? () => null : renderCustomInputToolbar}\n        renderComposer={renderCustomComposer}\n        renderUsernameOnMessage={renderUsernameOnMessage}\n        //@ts-expect-error\n        renderTicks={() => null}\n        quickReplyStyle={{ borderRadius: 2 }}\n        inverted={Platform.OS !== \"web\"}\n        bottomOffset={bottomOffset}\n        timeTextStyle={{\n          left: { color: \"red\" },\n          right: { color: \"yellow\" },\n        }}\n        listViewProps={{ style: { marginBottom: 10 } }}\n        infiniteScroll\n        textProps={{ style: { fontFamily: webMode ? tcFontWeb : tcFont } }}\n      />\n      {hasOptedOut && (\n        <View testID=\"optedOut\" style={styles.optedOut}>\n          <Text bold>\n            {selectedConversation?.title} has opted out of text communication.\n          </Text>\n          <Text>\n            If you still want to contact your customer you can reach them by\n            email.\n          </Text>\n        </View>\n      )}\n      {navBarRightComponent?.({\n        id: getProspectIdFromConversation(selectedConversation),\n        name: selectedConversation?.title || \"\",\n      })}\n      {manualOfferBtnComponent?.({\n        id: getProspectIdFromConversation(selectedConversation),\n        name: selectedConversation?.title || \"\",\n      })}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  loading: {\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n  },\n  profile: {\n    flex: 1,\n    paddingTop: 40,\n    backgroundColor: \"#ccc\",\n  },\n  optedOut: {\n    paddingHorizontal: 30,\n    paddingTop: 20,\n    paddingBottom: 35,\n    justifyContent: \"space-between\",\n    backgroundColor: \"#F8F8F8\",\n    height: 150,\n    ...shadowBox,\n  },\n  chatBubble: {\n    width: \"100%\",\n  },\n  sendContainer: {\n    justifyContent: \"center\",\n    paddingRight: 10,\n  },\n  sendButtonWeb: {\n    fontFamily: tcFontWeb,\n    color: \"#0084ff\",\n  },\n});\n\nexport default Conversation;\n","import React from \"react\";\nimport ConversationList, { ConversationListProps } from \"./ConversationList\";\nimport ConversationWithoutProvider, {\n  ConversationProps as ConversationWithoutProviderProps,\n  ProspectInfo,\n} from \"./Conversation\";\nimport {\n  TwilioConversationsProvider,\n  useTwilioConversations,\n} from \"./hooks/TwilioConversationsProvider\";\nimport { IConversation } from \"./types\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\n\ninterface ConversationCenterProps\n  extends ConversationWithoutProviderProps,\n    ConversationListProps {\n  tokenEndpoint: string;\n}\n\ninterface ConversationProps extends ConversationWithoutProviderProps {\n  tokenEndpoint: string;\n  prospectId: string;\n}\n\ntype NotificationHandlerProps = {\n  nativeNotificationHandler: (\n    values: NotificationHandlerParams\n  ) => React.ReactNode;\n};\n\ntype NotificationHandlerParams = {\n  availableConversations: IConversation[];\n  onConversationSelected: (conversation: IConversation | null) => Promise<void>;\n  selectedConversation: IConversation | null;\n  setSelectedConversation: React.Dispatch<\n    React.SetStateAction<IConversation | null>\n  >;\n};\n\nconst ConversationCenterWithoutProvider = ({\n  bottomOffset,\n  manualOfferBtnComponent,\n  onManualOfferPress = () => null,\n  navBarRightComponent,\n  onConversationPressed,\n  onNavBarPressLeft,\n  onNavBarPressRight,\n  onNavBarPressTitle,\n  predefinedChatInput,\n  onSettingsPress,\n  emptyListComponent,\n  participantOptedOut,\n  renderCustomAvatar,\n  onMessagesHubView,\n  onUserMessagesView,\n  onCameraPressed,\n}: ConversationCenterProps) => {\n  const { selectedConversation } = useTwilioConversations();\n\n  return !selectedConversation ? (\n    <ConversationList\n      onMessagesHubView={onMessagesHubView}\n      onConversationPressed={onConversationPressed}\n      onSettingsPress={onSettingsPress}\n      emptyListComponent={emptyListComponent}\n      participantOptedOut={participantOptedOut}\n    />\n  ) : (\n    <ConversationWithoutProvider\n      bottomOffset={bottomOffset}\n      predefinedChatInput={predefinedChatInput}\n      manualOfferBtnComponent={manualOfferBtnComponent}\n      onManualOfferPress={onManualOfferPress}\n      navBarRightComponent={navBarRightComponent}\n      onNavBarPressLeft={onNavBarPressLeft}\n      onNavBarPressRight={onNavBarPressRight}\n      onNavBarPressTitle={onNavBarPressTitle}\n      participantOptedOut={participantOptedOut}\n      renderCustomAvatar={renderCustomAvatar}\n      onUserMessagesView={onUserMessagesView}\n      onCameraPressed={onCameraPressed}\n    />\n  );\n};\n\nconst NotificationHandler = ({\n  nativeNotificationHandler,\n}: NotificationHandlerProps) => {\n  const {\n    availableConversations,\n    onConversationSelected,\n    selectedConversation,\n    setSelectedConversation,\n  } = useTwilioConversations();\n\n  return (\n    <>\n      {nativeNotificationHandler({\n        availableConversations,\n        onConversationSelected,\n        selectedConversation,\n        setSelectedConversation,\n      })}\n    </>\n  );\n};\n\nconst ConversationCenter = ({\n  nativeNotificationHandler,\n  ...rest\n}: ConversationCenterProps & NotificationHandlerProps) => (\n  <TwilioConversationsProvider tokenEndpoint={rest.tokenEndpoint}>\n    <ConversationCenterWithoutProvider {...rest} />\n    {nativeNotificationHandler && (\n      <NotificationHandler\n        nativeNotificationHandler={nativeNotificationHandler}\n      />\n    )}\n  </TwilioConversationsProvider>\n);\n\nconst Conversation = ({\n  tokenEndpoint,\n  prospectId,\n  ...rest\n}: ConversationProps) => (\n  <TwilioConversationsProvider\n    tokenEndpoint={tokenEndpoint}\n    prospectId={prospectId}\n  >\n    <SafeAreaProvider>\n      <ConversationWithoutProvider webMode {...rest} />\n    </SafeAreaProvider>\n  </TwilioConversationsProvider>\n);\n\nexport {\n  Conversation,\n  ConversationCenter,\n  ConversationList,\n  IConversation,\n  NotificationHandlerParams,\n  ProspectInfo,\n};\n"],"names":["tcFontWeb","tcFont","tcFontBold","tcDark","tcBorderColor","tcUnreadColor","headerSpacing","paddingTop","isIphoneX","shadowBox","elevation","shadowOffset","width","height","shadowColor","shadowOpacity","shadowRadius","marginHorizontal","roundedContainer","backgroundColor","padding","borderWidth","borderColor","borderRadius","inputText","fontFamily","color","fontSize","Heading","bold","children","size","style","white","rest","sizeKey","sizeChart","toString","React","Text","styles","StyleSheet","create","xs","sm","md","lg","xl","NativeText","avatar0","require","avatar1","avatar2","avatar3","avatar4","avatar5","avatars","getAvatarSource","index","String","NOT_AVAILABLE","formatDate","date","toFormatDateTime","Date","getTime","formatType","dateNow","now","oneDay","format","IconSettings","Svg","viewBox","G","stroke","fill","Path","d","undefined","getProspectIdFromConversation","conversation","attributes","prospect_id","formatMessageForGiftedChat","message","identity","isConsumerMessage","author","includes","name","title","id","formattedMessage","_id","sid","text","body","createdAt","dateCreated","user","type","media","contentType","startsWith","getContentTemporaryUrl","image","video","formatMessagesForGiftedChat","messages","Promise","all","map","m","createRequiredContext","Context","createContext","providerName","hookName","displayName","hook","context","useContext","Error","Provider","useTwilioConversations","TwilioConversationsProvider","tokenEndpoint","prospectId","useState","unreadUsers","setUnreadUsers","availableConversations","setAvailableConversations","Map","conversations","setConversations","currentTokenEndpoint","setCurrentTokenEndpoint","conversationsLoaded","setConversationsLoaded","selectedConversation","setSelectedConversation","client","setClient","setIdentity","getTokenData","useCallback","tokenResp","axios","get","handleExpiredToken","updateToken","data","token","getMessages","displayableMessages","items","filter","to","mapTwilioConversationToCommsConversation","friendly_name_dealership","friendlyName","uniqueName","mostRecentMessage","getUnreadMessagesCount","unreadMessagesCount","loadConversation","mappedConversation","curr","set","updateConversation","newConversation","renderNewMessage","conversationId","newMessage","lastMessage","pending","setAllMessagesRead","messageAdded","useEffect","arr","Array","from","value","sort","a","b","onConversationSelected","lastReadMessageIndex","advanceLastReadMessageIndex","loadUniqueConversation","getConversationByUniqueName","uniqueConversation","commsConversation","loadMultipleConversations","getSubscribedConversations","subscribedConversations","aggConversations","hasNextPage","nextPage","concat","unreadMessagesUsersCount","adaptedConversationPromises","c","adaptedConversations","loadConversations","conversationsResult","initializeClient","ConversationsClient","twilioClient","off","on","onMessageSend","newMessages","hasOwnProperty","sendMessage","formData","FormData","append","uri","returnValues","UnreadInteractionBadge","View","newProspectContainer","newMessageContainer","countStyleProspect","display","alignContent","justifyContent","textAlign","ConversationList","onConversationPressed","onSettingsPress","emptyListComponent","participantOptedOut","onMessagesHubView","hasAvailableConversations","length","renderItem","item","Item","onPress","container","header","TouchableOpacity","hitSlop","top","bottom","left","right","settingsIcon","FlatList","ListEmptyComponent","keyExtractor","contentContainerStyle","ActivityIndicator","testID","loading","OPTED_OUT_MESSAGE","hasNotBeenInteractedWith","hasNewInteraction","hasOptedOut","accessible","ListItem","containerStyle","itemContainer","Image","source","avatarImg","optedOutImage","messageContainer","listItemContent","optedOutText","numberOfLines","messagePreview","dateTimeContainer","datetime","marginTop","flex","topItem","flexDirection","alignItems","paddingHorizontal","opacity","borderBottomColor","borderBottomWidth","borderBottomEndRadius","borderBottomStartRadius","position","IconCamera","strokeWidth","Circle","cx","cy","r","IconInventory","CustomActions","onManualOfferPress","renderCameraIcon","renderManualOfferIcon","wrapper","marginLeft","marginBottom","iconText","fontWeight","contextTypes","actionSheet","PropTypes","func","IconToBottom","NavBar","onPressLeft","onPressTitle","onPressRight","Header","leftComponent","AntDesign","centerComponent","rightComponent","Conversation","bottomOffset","manualOfferBtnComponent","navBarRightComponent","onNavBarPressLeft","onNavBarPressRight","onNavBarPressTitle","renderCustomAvatar","predefinedChatInput","onUserMessagesView","onCameraPressed","renderUsernameOnMessage","webMode","conversationInputText","setConversationInputText","handleBackPress","handleHardwareBackPress","BackHandler","addEventListener","removeEventListener","renderScrollToBottom","renderCustomActions","props","onSend","renderBubble","chatBubble","Bubble","renderSystemMessage","SystemMessage","textStyle","renderCustomInputToolbar","InputToolbar","minHeight","renderCustomComposer","textInputProps","textInputStyle","blurOnSubmit","onSubmitEditing","trim","Composer","placeholder","renderSend","SendButton","MaterialIcons","sendButtonWeb","Platform","OS","Feather","Send","sendContainer","accessibilityLabel","GiftedChat","onInputTextChanged","reverse","scrollToBottom","scrollToBottomComponent","keyboardShouldPersistTaps","renderActions","minInputToolbarHeight","renderAvatar","renderInputToolbar","renderComposer","renderTicks","quickReplyStyle","inverted","timeTextStyle","listViewProps","infiniteScroll","textProps","optedOut","profile","paddingBottom","paddingRight","ConversationCenterWithoutProvider","ConversationWithoutProvider","NotificationHandler","nativeNotificationHandler","ConversationCenter","SafeAreaProvider"],"mappings":"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"}